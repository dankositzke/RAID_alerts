import streamlit as st
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from datetime import date, timedelta, datetime

date_list1 = ['1/1/2022',
 '1/2/2022',
 '1/3/2022',
 '1/4/2022',
 '1/5/2022',
 '1/6/2022',
 '1/7/2022',
 '1/8/2022',
 '1/9/2022',
 '1/10/2022',
 '1/11/2022',
 '1/12/2022',
 '1/13/2022',
 '1/14/2022',
 '1/15/2022',
 '1/16/2022',
 '1/17/2022',
 '1/18/2022',
 '1/19/2022',
 '1/20/2022',
 '1/21/2022',
 '1/22/2022',
 '1/23/2022',
 '1/24/2022',
 '1/25/2022',
 '1/26/2022',
 '1/27/2022',
 '1/28/2022',
 '1/29/2022',
 '1/30/2022',
 '1/31/2022',
 '2/1/2022',
 '2/2/2022',
 '2/3/2022',
 '2/4/2022',
 '2/5/2022',
 '2/6/2022',
 '2/7/2022',
 '2/8/2022',
 '2/9/2022',
 '2/10/2022',
 '2/11/2022',
 '2/12/2022',
 '2/13/2022',
 '2/14/2022',
 '2/15/2022',
 '2/16/2022',
 '2/17/2022',
 '2/18/2022',
 '2/19/2022',
 '2/20/2022',
 '2/21/2022',
 '2/22/2022',
 '2/23/2022',
 '2/24/2022',
 '2/25/2022',
 '2/26/2022',
 '2/27/2022',
 '2/28/2022',
 '3/1/2022',
 '3/2/2022',
 '3/3/2022',
 '3/4/2022',
 '3/5/2022',
 '3/6/2022',
 '3/7/2022',
 '3/8/2022',
 '3/9/2022',
 '3/10/2022',
 '3/11/2022',
 '3/12/2022',
 '3/13/2022',
 '3/14/2022',
 '3/15/2022',
 '3/16/2022',
 '3/17/2022',
 '3/18/2022',
 '3/19/2022',
 '3/20/2022',
 '3/21/2022',
 '3/22/2022',
 '3/23/2022',
 '3/24/2022',
 '3/25/2022',
 '3/26/2022',
 '3/27/2022',
 '3/28/2022',
 '3/29/2022',
 '3/30/2022',
 '3/31/2022',
 '4/1/2022',
 '4/2/2022',
 '4/3/2022',
 '4/4/2022',
 '4/5/2022',
 '4/6/2022',
 '4/7/2022',
 '4/8/2022',
 '4/9/2022',
 '4/10/2022',
 '4/11/2022',
 '4/12/2022',
 '4/13/2022',
 '4/14/2022',
 '4/15/2022',
 '4/16/2022',
 '4/17/2022',
 '4/18/2022',
 '4/19/2022',
 '4/20/2022',
 '4/21/2022',
 '4/22/2022',
 '4/23/2022',
 '4/24/2022',
 '4/25/2022',
 '4/26/2022',
 '4/27/2022',
 '4/28/2022',
 '4/29/2022',
 '4/30/2022',
 '5/1/2022',
 '5/2/2022',
 '5/3/2022',
 '5/4/2022',
 '5/5/2022',
 '5/6/2022',
 '5/7/2022',
 '5/8/2022',
 '5/9/2022',
 '5/10/2022',
 '5/11/2022',
 '5/12/2022',
 '5/13/2022',
 '5/14/2022',
 '5/15/2022',
 '5/16/2022',
 '5/17/2022',
 '5/18/2022',
 '5/19/2022',
 '5/20/2022',
 '5/21/2022',
 '5/22/2022',
 '5/23/2022',
 '5/24/2022',
 '5/25/2022',
 '5/26/2022',
 '5/27/2022',
 '5/28/2022',
 '5/29/2022',
 '5/30/2022',
 '5/31/2022',
 '6/1/2022',
 '6/2/2022',
 '6/3/2022',
 '6/4/2022',
 '6/5/2022',
 '6/6/2022',
 '6/7/2022',
 '6/8/2022',
 '6/9/2022',
 '6/10/2022',
 '6/11/2022',
 '6/12/2022',
 '6/13/2022',
 '6/14/2022',
 '6/15/2022',
 '6/16/2022',
 '6/17/2022',
 '6/18/2022',
 '6/19/2022',
 '6/20/2022',
 '6/21/2022',
 '6/22/2022',
 '6/23/2022',
 '6/24/2022',
 '6/25/2022',
 '6/26/2022',
 '6/27/2022',
 '6/28/2022',
 '6/29/2022',
 '6/30/2022',
 '7/1/2022',
 '7/2/2022',
 '7/3/2022',
 '7/4/2022',
 '7/5/2022',
 '7/6/2022',
 '7/7/2022',
 '7/8/2022',
 '7/9/2022',
 '7/10/2022',
 '7/11/2022',
 '7/12/2022',
 '7/13/2022',
 '7/14/2022',
 '7/15/2022',
 '7/16/2022',
 '7/17/2022',
 '7/18/2022',
 '7/19/2022',
 '7/20/2022',
 '7/21/2022',
 '7/22/2022',
 '7/23/2022',
 '7/24/2022',
 '7/25/2022',
 '7/26/2022',
 '7/27/2022',
 '7/28/2022',
 '7/29/2022',
 '7/30/2022',
 '7/31/2022']

st.write('# RAID Alerts Counts - 2022')


df = pd.read_csv('RAID_Jan_Jul_2022_Alerts.csv')
alerts_list = df['NAME'].unique()

for alert in alerts_list:

    df1 = df[df['NAME']==alert].reset_index(drop=True)
    df_final = pd.DataFrame(index=date_list1, columns=['count'])
    for date in date_list1:
        count = len(df1[df1['date']==date])
        df_final.at[date, 'count'] = count
    df_final.reset_index(inplace=True)
    df_final = df_final.rename(columns={'index': 'date'})

    st.write('### ', alert)

    sum = df_final['count'].sum()

    st.write('Total Fires in 2022: ', sum)

    fig = plt.figure(figsize=(14, 6))
    sns.barplot(x = "date", y="count", data=df_final)
    plt.xticks(rotation=45)
    plt.xticks([0, 31, 59, 90, 120, 151, 181])
    st.pyplot(fig)

